(this["webpackJsonpmeme-generator"]=this["webpackJsonpmeme-generator"]||[]).push([[0],{17:function(e,t,a){e.exports=a(30)},22:function(e,t,a){},23:function(e,t,a){},30:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(10),i=a.n(s),l=(a(22),a(23),a(8),a(2)),o=a(3),c=a(5),m=a(4),u=function(e){Object(c.a)(a,e);var t=Object(m.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement("nav",null,r.a.createElement("div",{class:"nav-wrapper teal lighten-2"},r.a.createElement("div",{class:"logo-wrapper"},r.a.createElement("img",{class:"logo center",src:"data:image/png;base64,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"}),r.a.createElement("p",{class:"brand-logo center hide-on-small-and-down"},"sylv's meme generator")),r.a.createElement("ul",{class:"gallery-icon"},r.a.createElement("li",null,r.a.createElement("a",{href:""},r.a.createElement("i",{class:"material-icons"},"view_module"))))))}}]),a}(n.Component),p=a(16),h=a(11),d=a(6),g=a.n(d),f=a(13),v=a(14),w=a(15),A=a.n(w),E=function(e){Object(c.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(l.a)(this,a),n=t.call(this,e),console.log(n.props),n.state={inputs:[],finishedMeme:null},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=document.querySelectorAll(".tooltipped");A.a.Tooltip.init(e,{})}},{key:"generateInputs",value:function(){for(var e=this,t=[],a=0;a<this.props.meme.boxCount;a++)t.push(r.a.createElement("div",{class:"inputs"},r.a.createElement("input",{placeholder:"Overlay Text",id:"text-"+a,type:"text",class:"validate",onChange:function(t){return e.updateInputs(t)}}),r.a.createElement("label",{for:"text-"+a},"Text Input "+(a+1))));return t}},{key:"updateInputs",value:function(e){var t=this.state.inputs;t[e.target.id.substring(5,6)]=e.target.value,this.setState({inputs:t})}},{key:"onSubmit",value:function(e){var t=this;e.preventDefault();var a=this.generateURL();fetch(a).then((function(e){return e.json()})).then((function(e){t.setState({finsihedMeme:e.data}),console.log(e.data)}))}},{key:"generateURL",value:function(){var e=Object(f.a)(g.a.mark((function e(){var t,a,n,r,s;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=new URL("https://api.imgflip.com/caption_image?")).searchParams.append("template_id",this.props.meme.id),t.searchParams.append("username","memegen115"),t.searchParams.append("password","memegen115"),"",n=this.state.inputs,a=n.map((function(e,t){return"boxes["+t+"][text]="+e})).join("&"),t+="&"+a,e.next=10,fetch(t);case 10:return r=e.sent,e.next=13,r.json();case 13:!1===(s=e.sent).success?alert(s.error_message):(console.log(s),this.setState({finishedMeme:s.data}));case 15:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"download",value:function(){var e=this.state.finishedMeme.url,t=new XMLHttpRequest;t.open("GET",e,!0),t.responseType="blob",t.onload=function(){var e=(window.URL||window.webkitURL).createObjectURL(this.response),t=document.createElement("a");t.href=e,t.download="meme.jpg",document.body.appendChild(t),t.click(),document.body.removeChild(t)},t.send()}},{key:"startDownload",value:function(e){window.location.href=e}},{key:"render",value:function(){var e=this;return this.state.finishedMeme?r.a.createElement("div",{class:"finished-meme"},r.a.createElement("img",{src:this.state.finishedMeme.url}),r.a.createElement("div",{class:"row"},r.a.createElement(v.CopyToClipboard,{text:this.state.finishedMeme.url,onCopy:function(){return e.setState({copied:!0})}},r.a.createElement("button",{class:"btn waves-effect waves-light"},"Share",r.a.createElement("i",{class:"material-icons right"},"share"))),r.a.createElement("button",{class:"btn waves-effect waves-light",onClick:function(){return e.download()}},"Download",r.a.createElement("i",{class:"material-icons right"},"cloud_download"))),this.state.copied?r.a.createElement("p",null,"Link Copied!"):null):r.a.createElement("div",{class:"create-page container"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col s6 card-wrapper"},r.a.createElement("div",{class:"card"},r.a.createElement("div",{class:"card-image waves-effect waves-block waves-light"},r.a.createElement("img",{class:"activator",src:this.props.meme.url})),r.a.createElement("div",{class:"card-content"},r.a.createElement("p",{class:"card-title grey-text text-darken-4"},this.props.meme.name),r.a.createElement("p",null,r.a.createElement("a",{class:"popularity"},"Rank #",parseInt(this.props.meme.rank)+1," in popularity"))))),r.a.createElement("form",{class:"textbox input-field col s4",onSubmit:function(t){return e.onSubmit(t)}},this.generateInputs(),r.a.createElement("button",{class:"btn waves-effect waves-light",type:"submit"},"Submit",r.a.createElement("i",{class:"material-icons right"},"send")))))}}]),a}(n.Component),b=function(e){Object(c.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).onClick=function(e){var t=e.target,a=t.alt.split(" ");n.setState({meme:{id:t.id,url:t.src,width:t.width,height:t.height,name:t.name,boxCount:a[0],rank:a[1]}})},n.sortPhotos=function(){console.log(n.state.photos);var e=Object(p.a)(n.state.photos).sort((function(e,t){return parseInt(e.alt.substring(2))>parseInt(t.alt.substring(2))?1:-1}));n.setState({photos:e})},n.state={photos:null,meme:null},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;fetch("https://api.imgflip.com/get_memes").then((function(t){return t.json().then((function(t){var a=t.data.memes.map((function(e,t){return{id:e.id,src:e.url,width:e.width,height:e.height,name:e.name,alt:+e.box_count+" "+t}}));a.sort((function(){return.5-Math.random()})),e.setState({photos:a})}))}))}},{key:"render",value:function(){return this.state.photos?this.state.meme?r.a.createElement(E,{meme:this.state.meme}):r.a.createElement("div",{class:"landing container"},r.a.createElement("div",{class:"header"},r.a.createElement("div",null,r.a.createElement("h5",{class:"left"},"Select a template to begin")),r.a.createElement("button",{class:"btn waves-effect waves-light",onClick:this.sortPhotos},"Most Popular",r.a.createElement("i",{class:"material-icons right"},"swap_vert"))),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(h.a,{photos:this.state.photos,onClick:this.onClick,direction:"column"}),";"):r.a.createElement("div",null,"No templates available")}}]),a}(n.Component);var k=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(u,null),r.a.createElement(b,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(k,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[17,1,2]]]);
//# sourceMappingURL=main.8bdaa623.chunk.js.map